package auth;

import java.awt.event.*;
import javax.swing.*;
import utils.Database;

public class SignUp {

  public static void main(String[] args) {
    signUpGUI();
  }

  static String username;
  static String password;

  public static Database users = new Database(username, password);

  // public static Database1 users1 = new Database1();

  public static void signUpGUI() {
    JFrame frame = new JFrame("Sign Up");
    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    frame.setSize(500, 350);
    frame.setLayout(new BoxLayout(frame.getContentPane(), BoxLayout.Y_AXIS));

    JPanel usernamePanel = new JPanel();
    JLabel usernameLabel = new JLabel("Username: ");
    JTextField usernameField = new JTextField(20);
    usernamePanel.add(usernameLabel);
    usernamePanel.add(usernameField);

    JPanel passwordPanel = new JPanel();
    JLabel passwordLabel = new JLabel("Password: ");
    JPasswordField passwordField = new JPasswordField(20);
    passwordPanel.add(passwordLabel);
    passwordPanel.add(passwordField);

    JPanel confirmPasswordPanel = new JPanel();
    JLabel confirmPasswordLabel = new JLabel("Confirm Password: ");
    JPasswordField confirmPasswordField = new JPasswordField(20);
    confirmPasswordPanel.add(confirmPasswordLabel);
    confirmPasswordPanel.add(confirmPasswordField);

    JButton signUpButton = new JButton("Sign Up");
    signUpButton.addActionListener(
        new ActionListener() {
          public void actionPerformed(ActionEvent e) {
            String username = usernameField.getText();
            String password = new String(passwordField.getPassword());
            String confirmPassword = new String(
                confirmPasswordField.getPassword());
            if (password.equals(confirmPassword)) {
              JOptionPane.showMessageDialog(frame, "Welcome, " + username + "!");
              // users.addUser(username, password);
              users.addUser(username, password);
            } else {
              JOptionPane.showMessageDialog(frame, "Passwords do not match.");
            }
          }
        });

    frame.add(usernamePanel);
    frame.add(passwordPanel);
    frame.add(confirmPasswordPanel);
    frame.add(signUpButton);
    frame.setVisible(true);
  }
}
